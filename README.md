# API сервис для веб-сайта "Куда Угодно"
## Технические требования:
* * * 
- python 3.12+ дополнительная библиотека:
  * python-dotenv 1.1.1+
- postgreSQL 17.5+ дополнительная библиотека: 
  * psycopg2 2.9.10+
- django 5.1.6+ дополнительные библиотеки:
  * phonenumbers 9.0.8+
  * django-phonenumber-field 8.1.0+
  * django-cors-headers 4.7.0+
  * django-allauth 65.9.0+
  * dj-rest-auth 7.0.1+
  * social-auth-app-django 5.5.1+
- drf 3.16.0+ дополнительная библиотека:
  * djangorestframework-simplejwt 5.5.0+
- drf-spectacular 0.28.0+
- gunicorn 23.0.0+
- celery 5.5.3+ дополнительная библиотека: 
  * django-celery-beat 2.8.1+
- redis 6.2.0+
- pytest 8.4.1 дополнительные библиотеки: 
  * pytest-django 4.11.1+
  * factory-boy 3.3.3+
- pillow 11.3.0+
- pre-commit = 4.2.0+
- black = 25.1.0+
- ruff = 0.12.4+


Перед перым запуском, просто переименуйте файл [.env.sample](.env) в [.env](.env)
***
Пройдено 3 из 4 этапов разработки. В данный момент разработка ведётся только локально, с помощью запуска контейнера.
Чтобы фронт мог запустить бэк локально, установить Docker Desktop для Вашего ПК, и запустить бэк с помощью команды:
```python
docker compose up -d --build
```

При запуске контейнера, база заполняется тестовыми данными, создаётся админ. Расписана подробная swagger документация по ссылке:

http://localhost:8000/api/v1/docs/


Чтобы остановить контейнер или удалить все контейнеры, необходимо ввести команду:
```python
docker compose down
```
или с удаление всех данных:
```python
docker compose down -v
```

Проект большой, техзадание находится в фигме.


В текущем состоянии бэк + фронт может сделать:
1. Зайти на сайт и попасть на главную страницу, где будут видны туры, отели, акции, предложения, горящие туры, ВЖУХ, подписаться на рассылку (пока это просто текст сообщения на почту)
2. Можно перейти в каталог всех отелей и всех туров, отфильтровать по параметрам, провалиться в каждый отель или тур, забронировать номер или тур.
3. Зарегистрироваться/Авторизоваться (авторизация происходит через ввод кода, который приходит на почту, пароля не существует, он каждый раз заменяется токеном) как турист/туроператор/отельер, туроператор и отельер имеют иную регистрацию, где необходимо ввести название отеля/туорператора, контактные данные, номер телефона, email, и документы об отеле (в данный момент они не обязательны, но возможность такая есть). (Не реализованы входы через соц сети, но это уже на завершающем этапе.) 
4. Перейти в личный кабинет туриста/туроператора/отельера.
5. Турист в личном кабинете может смотреть свои заявки/поездки/заселения, вносить свои данные (не реализовано, так как дизайн не сделан - отзывы, документы, избранные туры/отели/статьи в блоге)
6. Отельер в личном кабинете может добавить отель, внести все данные по нему, добавить тип питания для всего отеля, добавить номера в отель, и календарь цен на выбранные номера, в разные даипозоны дат, с учётом еще скидок, смотреть заявки на бронирование номеров от туристов или от турагентов.
7. Туроператор в личном кабинете может смотреть список всех отелей, смотреть список рейсов (не реализовано подключение по API к авиасейсл, так как это платная функция, но в дальнейшем планируем подключить, как удобно), которые пока добавляются вручную. Может создать тур, из выбора созданных им рейсов, туда и обратно, выбрать список отелей, выбрать несколько номеров, несколько типов питания, и выбрать даты начала тура и даты окончания тура (на этапе согласования и перерисовывания находится уход от даты начала тура и даты окончания тура, хотят придумать конструктор тура.). Может работать с заявками на тур.
8. Отызвы в турам/отеля - не реализованы
9. Блог - не реализован, но уже на этапе завершения

После завершения 4 этапа - ci/cd с покупкой домена, и сервера.
***



